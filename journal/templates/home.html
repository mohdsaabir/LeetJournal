{% extends "base.html" %}
{% block content %}
<div class="text-center">
    <h2 class="text-3xl font-semibold mb-6">Welcome Back to Your LeetJournal ðŸ‘‹</h2>

    <!-- Stats Section -->
    <div class="grid grid-cols-2 gap-6 mb-10 max-w-md mx-auto">
        <div class="bg-white shadow rounded-xl p-6">
            <p class="text-xl font-bold text-green-600">{{ total_solved }}</p>
            <p class="text-gray-600">Solved Problems</p>
        </div>
        <div class="bg-white shadow rounded-xl p-6">
            <p class="text-xl font-bold text-yellow-500">{{ total_revision }}</p>
            <p class="text-gray-600">In Revision</p>
        </div>
    </div>

    <!-- Search -->
    <form action="/search/" method="get" class="mb-10">
        <input type="text" name="q" placeholder="Search your journal..."
            class="w-full max-w-lg border rounded-full px-6 py-2 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-400" />
    </form>

    <!-- Recently Solved -->
    <div class="text-left max-w-2xl mx-auto">
        <h3 class="text-2xl font-semibold mb-4">ðŸ•’ Recently Solved</h3>
        <ul class="space-y-3">
            {% for q in recent_questions %}
            <li class="bg-white shadow rounded-xl p-4">
                <a href="{% url 'question_detail' q.id %}" class="font-semibold text-lg text-blue-600 hover:underline">
                    {{ q.question.question_no}} - {{ q.question.title }}
                </a>
                <p class="text-sm text-gray-500">Solved on {{ q.last_solved|date:"M d, Y" }}</p>
            </li>
            {% empty %}
            <li>No recent entries yet.</li>
            {% endfor %}
        </ul>
        <div class="mt-4 text-right">
            <a href="{% url 'all_solved' %}" class="text-indigo-600 hover:underline">View All â†’</a>
        </div>
    </div>
</div>
{% endblock %}
